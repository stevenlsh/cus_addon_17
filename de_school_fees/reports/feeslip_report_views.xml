<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="feeslip_report_view_pivot" model="ir.ui.view">
            <field name="name">feeslip.report.pivot</field>
            <field name="model">oe.feeslip.report</field>
            <field name="arch" type="xml">
                <pivot string="Fee Analysis" sample="1">
                    <field name="course_id" type="row"/>
                    <field name="batch_id" type="row"/>
                    <field name="fee_amount" type="measure"/>
                </pivot>
            </field>
        </record>

        <record id="feeslip_report_view_graph" model="ir.ui.view">
            <field name="name">feeslip.report.graph</field>
            <field name="model">oe.feeslip.report</field>
            <field name="arch" type="xml">
                <graph string="Fee Analysis" type="line" sample="1">
                    <field name="date_from"/>
                    <field name="fee_amount" type="measure"/>
                </graph>
            </field>
        </record>

        <record id="feeslip_report_view_tree" model="ir.ui.view">
            <field name="name">feeslip.report.view.tree</field>
            <field name="model">oe.feeslip.report</field>
            <field name="arch" type="xml">
                <tree string="Fee Analysis" create="0">
                    <field name="student_id"/>
                    <field name="course_id" optional="show"/>
                    <field name="batch_id" optional="hide"/>
                    <field name="fee_struct_id" optional="hide"/>
                    <field name="date_from" optional="show"/>
                    <field name="date_to" optional="show"/>
                    <field name="company_id" optional="show" groups="base.group_multi_company"/>
                    <field name="fee_amount" optional="show" sum="Sum of Fee"/>
                </tree>
            </field>
        </record>

        <record id="feeslip_report_view_search" model="ir.ui.view">
            <field name="name">feeslip.report.search</field>
            <field name="model">oe.feeslip.report</field>
            <field name="arch" type="xml">
                <search string="Fee Analysis">
                    <field name="company_id" filter_domain="[('company_id', 'ilike', self)]"/>
                    <field name="student_id" filter_domain="[('student_id', 'ilike', self)]"/>
                    <field name="course_id" filter_domain="[('course_id', 'ilike', self)]"/>
                    <field name="batch_id" filter_domain="[('batch_id', 'ilike', self)]"/>
                    <field name="fee_struct_id" filter_domain="[('fee_struct_id', 'ilike', self)]"/>
                    <field name="fee_name" filter_domain="[('fee_name', 'ilike', self)]"/>
                    <field name="date_from"/>
                    <separator/>
                    <filter name="filter_date_from" date="date_from"/>
                    <group expand="1" string="Group By">
                        <filter string="Student" name="student_id" context="{'group_by':'student_id'}"/>
                        <filter string="Course" name="course_id" context="{'group_by':'course_id'}"/>
                        <filter string="Batch" name="batch_id" context="{'group_by':'batch_id'}"/>
                        <filter string="Fee Structure" name="fee_struct_id" context="{'group_by':'fee_struct_id'}"/>
                        <filter string="Company" name="company" context="{'group_by':'company_id'}" groups="base.group_multi_company"/>
                        <filter string="status" name="state" context="{'group_by':'state'}"/>

                    </group>
                </search>
            </field>
        </record>

        <record id="feeslip_report_action" model="ir.actions.act_window">
            <field name="name">Feeslip Analysis</field>
            <field name="res_model">oe.feeslip.report</field>
            <field name="view_mode">pivot,graph</field>
            <field name="search_view_id" ref="feeslip_report_view_search"/>
            <field name="context">{
                
            }</field>
            <field name="help">This report performs analysis on your feeslip.</field>
        </record>

        <menuitem id="menu_feeslip_report" name="Fee Analysis" sequence="10" parent="menu_school_fees_menu_reports" action="feeslip_report_action"/>

    </data>
</odoo>
